# ============================================
# SCRATCH & WIN SYSTEM - ENVIRONMENT CONFIGURATION
# ============================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Update all values marked with ⚠️ (especially secrets!)
# 3. NEVER commit your .env file to git
# 4. Restart server after changing any values
#
# SECURITY WARNING:
# - ADMIN_PASSWORD and SESSION_SECRET are SECRETS
# - Use strong, unique values in production
# - Never share or commit these values
# - Generate SESSION_SECRET with: openssl rand -base64 32
#
# ============================================

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection settings
# Update these based on your database setup

DB_POSTGRESDB_HOST=localhost
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=scratch_card_db
DB_POSTGRESDB_USER=postgres

# ⚠️ SECRET: Database password
# Change this in production!
DB_POSTGRESDB_PASSWORD=postgres

# ============================================
# SERVER CONFIGURATION
# ============================================

PORT=3000

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# ⚠️ IMPORTANT: Change these values in production!
# These are SECRETS - never commit actual values to git

# ⚠️ SECRET: Admin panel password (for /admin.html access)
# Recommendation: Use a strong password (min 12 chars, mix of letters/numbers/symbols)
# Example: MyStr0ng@dmInP@ss2024!
ADMIN_PASSWORD=admin123

# ⚠️ SECRET: Session secret key (for encrypting session cookies)
# Recommendation: Generate random string with: openssl rand -base64 32
# NEVER use the default value in production!
# Example: run in terminal: openssl rand -base64 32
SESSION_SECRET=change-this-to-a-random-secret-key-in-production

# ============================================
# BUSINESS RULES
# ============================================

# Minimum purchase amount to be eligible for scratch & win (in ₹)
MIN_PURCHASE_AMOUNT=100

# Scratch threshold - percentage of canvas that must be scratched before auto-reveal
SCRATCH_THRESHOLD=50

# ============================================
# STORE INFORMATION
# ============================================
# Display information shown on customer-facing website

STORE_NAME=OneCard Diwali Dhamaka
STORE_TAGLINE=शुभ दीपावली!
STORE_DESCRIPTION=Shop for Rangoli, Diyas, Scented Candles & More!

# ============================================
# PRIZE TIERS CONFIGURATION
# ============================================
# MARGIN PROTECTED: Lower-cost prizes have HIGHER probability
# This protects profit margins while ensuring everyone wins something
#
# Format: [{"min":amount,"max":amount,"name":"Tier","prizes":[{"name":"Prize","items":[...],"weight":probability}]}]
# 
# Weight: Higher number = Higher probability
# IMPORTANT: Cheapest prizes should have highest weights to protect margins
#
# Current Setup:
# - Bronze (₹100-299): 1-5 Tealight Candles
# - Silver (₹300-499): Heart Candles + Tealights
# - Gold (₹500-1000): Damru Candles + Heart Candles
#
# To modify: Edit the JSON below or use a JSON formatter for easier editing

PRIZE_TIERS=[{"min":100,"max":299,"name":"Bronze","prizes":[{"name":"1 Tealight Candle","items":[{"name":"Tealight Candle","quantity":1}],"weight":50},{"name":"3 Tealight Candles","items":[{"name":"Tealight Candle","quantity":3}],"weight":30},{"name":"4 Tealight Candles","items":[{"name":"Tealight Candle","quantity":4}],"weight":15},{"name":"5 Tealight Candles","items":[{"name":"Tealight Candle","quantity":5}],"weight":5}]},{"min":300,"max":499,"name":"Silver","prizes":[{"name":"1 Heart + 2 Tealights","items":[{"name":"Heart Tealight Candle","quantity":1},{"name":"Tealight Candle","quantity":2}],"weight":45},{"name":"1 Heart + 3 Tealights","items":[{"name":"Heart Tealight Candle","quantity":1},{"name":"Tealight Candle","quantity":3}],"weight":30},{"name":"2 Hearts + 2 Tealights","items":[{"name":"Heart Tealight Candle","quantity":2},{"name":"Tealight Candle","quantity":2}],"weight":20},{"name":"2 Heart Candles","items":[{"name":"Heart Tealight Candle","quantity":2}],"weight":5}]},{"min":500,"max":1000,"name":"Gold","prizes":[{"name":"1 Damru + 3 Hearts","items":[{"name":"Damru Candle","quantity":1},{"name":"Heart Tealight Candle","quantity":3}],"weight":40},{"name":"1 Damru + 3 Hearts + 2 Tealights","items":[{"name":"Damru Candle","quantity":1},{"name":"Heart Tealight Candle","quantity":3},{"name":"Tealight Candle","quantity":2}],"weight":30},{"name":"1 Damru + 4 Hearts","items":[{"name":"Damru Candle","quantity":1},{"name":"Heart Tealight Candle","quantity":4}],"weight":20},{"name":"1 Damru + 5 Hearts","items":[{"name":"Damru Candle","quantity":1},{"name":"Heart Tealight Candle","quantity":5}],"weight":8},{"name":"2 Damru + 2 Hearts","items":[{"name":"Damru Candle","quantity":2},{"name":"Heart Tealight Candle","quantity":2}],"weight":2}]}]

# ============================================
# CONFIGURATION SUMMARY
# ============================================
#
# SECRETS TO CHANGE (⚠️ CRITICAL FOR PRODUCTION):
# 1. DB_POSTGRESDB_PASSWORD - Database password
# 2. ADMIN_PASSWORD - Admin panel login password
# 3. SESSION_SECRET - Session encryption key (generate with: openssl rand -base64 32)
#
# BUSINESS SETTINGS TO REVIEW:
# - MIN_PURCHASE_AMOUNT: Currently ₹100
# - SCRATCH_THRESHOLD: Currently 50%
# - PRIZE_TIERS: Review prize weights for your desired margins
#
# STORE BRANDING TO CUSTOMIZE:
# - STORE_NAME: Your store name
# - STORE_TAGLINE: Your tagline/slogan
# - STORE_DESCRIPTION: Brief description
#
# ACCESS URLS:
# - Customer Interface: http://localhost:3000/
# - Admin Panel: http://localhost:3000/admin.html
#
# NEXT STEPS:
# 1. Copy this file: cp .env.example .env
# 2. Update all ⚠️ SECRET values in .env
# 3. Customize store information
# 4. Run: npm install
# 5. Run: npm start
# 6. Access admin panel and create your first order!
#
# For detailed documentation, see:
# - ADMIN_SETUP.md - Admin panel setup guide
# - COMPLETE_SYSTEM.md - Full system overview
# - ENV_CONFIGURATION.md - Environment configuration guide
#
# ============================================
